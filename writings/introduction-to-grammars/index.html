<!DOCTYPE html>
<html date="2022-07-02" data-theme="dark">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>WATERSTOPPER | Introduction to grammars</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/colors.css">
    <link rel="stylesheet" href="/css/writing.css">

    <link rel="icon" type="image/svg+xml" href="/resources/avatar.svg">
    <script type="text/javascript">
        function preLoadFunc() {
let theme = localStorage.getItem("theme") ?? "dark";
            document.documentElement.setAttribute("data-theme", theme);
        }
        window.onload = preLoadFunc;
    </script>
    
</head>

<body>
    <h1 style="text-align: center;">Introduction to grammars</h1>
<p>Grammar defines a set of strings (words), which is called a
<strong>language</strong>. Essentially grammar is a
<code>Dictionary &lt;String, String&gt;</code>, where each dictionary
entry is a <strong>grammar rule</strong>.</p>
<p>Other two important definitions are terminal and non-terminal
symbols. Terminal is a string that cannot be resolved into something
else, unlike non-terminal. Consequently, a result of grammar resolve
should always be a sequence of terminals.</p>
<p>For terminals a lowercase letter is assigned, for non-terminal a
capital one. Also, there is a special starting non-terminal marked
<code>S</code> (we assume that we start creating words starting with
<code>S</code>).</p>
<h3 id="creating-a-grammatically-correct-word">Creating a grammatically
correct word</h3>
<p>Starting with <code>S</code>, on each step we choose a non-terminal
symbol and a rule with the same symbol on the left-hand side. Then such
non-terminal is replaced with the right-hand side of the rule. Until
there is a non-terminal, a process is continued.</p>
<p>Consider a following example of a grammar:</p>
<pre><code>grammar gA
S -&gt; a
S -&gt; aS</code></pre>
<p>To create a word <code>aaa</code>:</p>
<ol type="1">
<li>Have <code>S</code>, use <code>S -&gt; aS</code>, now have
<code>aS</code></li>
<li>Use <code>S -&gt; aS</code>, result is <code>aaS</code></li>
<li>Use <code>S -&gt; a</code>, end with <code>aaa</code>. All
non-terminals are removed.</li>
</ol>
<p>Generally this grammar describes a language of words, containing any
number of <code>a</code>s: <span class="math inline">$L(gA) =
\\{a^n|n&gt;0\\}$</span></p>
<h3 id="the-chomsky-hierarchy">The Chomsky hierarchy</h3>
<p>Grammar with a smaller type number contains all grammars with a
bigger type number.</p>
<h4 id="context-free-grammar-type-2">Context free grammar (type 2)</h4>
<p>Grammars with a single non-terminal symbol on the left of each rule
are called context free grammars (CFG). Because no context is required
for replacing a non-terminal.</p>
<h4 id="regular-grammar-type-3">Regular grammar (type 3)</h4>
<p>Subset of content free grammars is regular grammars. It puts a
restriction on the right-hand side of its rules, three types of
expressions are allowed:</p>
<ul>
<li>empty string</li>
<li>single terminal</li>
<li>terminal followed by non-terminal.</li>
</ul>
<p>Example of a regular grammar:</p>
<pre><code>grammar gR
S -&gt; aX
S -&gt; EOW // (end of word)
X -&gt; bS</code></pre>
<p>This grammar defines a language <span class="math inline">$L(gR) =
\\{(ab)^n|n\geqslant0\\}$</span></p>
<p>Context free grammar is a pushdown automata, regular grammar is a
finite state machine.</p>
<p><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="80.06498mm"
   height="98.217171mm"
   viewBox="0 0 80.06498 98.217171"
   version="1.1"
   id="svg8"
   inkscape:version="1.0.2-2 (e86c870879, 2021-01-15)"
   sodipodi:docname="finite_state_regular.svg">
  <defs
     id="defs2" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.7"
     inkscape:cx="83.450242"
     inkscape:cy="381.0925"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     inkscape:document-rotation="0"
     showgrid="false"
     inkscape:window-width="1431"
     inkscape:window-height="1030"
     inkscape:window-x="96"
     inkscape:window-y="0"
     inkscape:window-maximized="0" />
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-86.73751,-31.817825)">
    <path
       style="fill:var(--main-color);stroke-width:0.264583"
       d="m 122.8455,129.76178 c -0.55992,-0.32546 -1.48182,-2.2066 -1.49043,-3.04121 -0.003,-0.30961 -0.18441,-0.71114 -0.40269,-0.8923 -0.21828,-0.18115 -0.39687,-0.55665 -0.39687,-0.83445 0,-0.27779 0.17859,-0.5736 0.39687,-0.65736 0.26739,-0.10261 0.39688,-0.52243 0.39688,-1.28675 0,-1.81964 0.98847,-4.61282 1.98512,-5.60948 1.63274,-1.63273 3.79085,-0.80655 4.24719,1.62596 0.20117,1.07234 0.0394,1.65115 -0.81186,2.90562 l -0.64201,0.94605 h 0.87195 c 1.87318,0 2.70029,2.57821 1.52916,4.76663 -0.91127,1.70283 -4.23656,2.91824 -5.68331,2.07729 z m 3.33713,-2.22325 c 0.8613,-0.58527 0.98746,-0.80499 0.98746,-1.71979 v -1.0488 h -1.09378 c -0.60158,0 -1.54403,0.1349 -2.09433,0.29977 -0.96213,0.28826 -0.9949,0.3365 -0.85378,1.25677 0.0807,0.52635 0.25344,1.16536 0.38384,1.42002 0.3417,0.66733 1.51719,0.57578 2.67059,-0.20797 z m -1.42749,-6.06997 c 1.15047,-1.24811 1.38828,-2.20879 0.69019,-2.78815 -0.59421,-0.49316 -1.36635,0.31983 -1.84975,1.94761 -0.71797,2.41767 -0.46393,2.60182 1.15956,0.84054 z m 33.23891,-0.77289 c -1.38281,-0.43733 -2.59862,-1.07917 -3.03094,-1.60009 -0.21622,-0.26053 -0.45775,-0.32909 -0.64219,-0.18228 -1.05602,0.84052 -8.28586,1.09003 -12.20187,0.42111 -4.1931,-0.71626 -11.13695,-3.36401 -17.4625,-6.6586 -2.81066,-1.46389 -10.47767,-6.27587 -12.60251,-7.9096 l -1.49002,-1.14563 -0.14706,0.73532 c -0.22863,1.14315 -1.03548,1.99332 -1.69354,1.78446 -0.71509,-0.22697 -0.91823,-0.7828 -0.59591,-1.63056 0.36106,-0.94966 0.31994,-2.09619 -0.11227,-3.13062 l -0.36943,-0.88418 -1.84937,0.13232 c -1.67084,0.11955 -2.01861,0.0524 -3.60243,-0.695954 -1.52651,-0.721244 -1.8319,-0.990542 -2.363205,-2.083914 -0.385414,-0.79315 -0.749718,-1.217803 -0.989076,-1.152917 -0.208413,0.05649 -0.961337,0.200811 -1.673164,0.320707 -0.711827,0.119893 -1.744025,0.529693 -2.293768,0.910666 -1.236074,0.8566 -2.200533,0.796687 -2.309491,-0.143467 -0.05624,-0.485241 0.11998,-0.782934 0.661458,-1.117439 l 0.738117,-0.45598 -1.322916,-0.0086 c -0.727605,-0.0047 -2.302699,-0.0849 -3.500211,-0.178122 -1.873479,-0.145847 -2.201049,-0.24434 -2.347529,-0.705858 -0.296124,-0.933003 0.530444,-1.238142 3.353909,-1.238142 2.339727,0 2.576498,-0.04625 2.702436,-0.527831 0.224886,-0.859967 0.912822,-0.90529 2.785454,-0.183512 0.972643,0.374891 2.214925,0.753232 2.760628,0.840761 0.969896,0.155567 0.992187,0.140454 0.992187,-0.672756 0,-2.070073 1.486121,-3.630409 4.167481,-4.375594 1.5037,-0.417902 1.78272,-0.423807 3.0718,-0.06501 l 1.41787,0.394644 1.34743,-1.607955 c 4.37932,-5.226063 14.34113,-14.42403 18.57042,-17.146506 2.88432,-1.856695 10.48217,-6.510038 11.90625,-7.292046 0.80036,-0.439507 2.67836,-1.233921 4.17333,-1.765364 3.26476,-1.160581 6.18743,-2.477092 5.55941,-2.504228 -0.68341,-0.02953 -1.05648,-0.901594 -0.63329,-1.480344 0.31593,-0.432064 0.49624,-0.446283 1.97355,-0.155638 0.96313,0.189484 2.27094,0.246885 3.20841,0.140822 l 1.58255,-0.179044 -0.0278,-1.23457 c -0.0593,-2.63431 1.84948,-4.681164 4.63347,-4.968496 3.94829,-0.407501 6.92831,2.19788 6.40251,5.597594 -0.2652,1.714701 -1.34763,3.640391 -2.45877,4.374237 -1.93145,1.275628 -6.08879,0.66127 -7.30844,-1.080011 l -0.39254,-0.56043 -1.27859,0.858946 c -0.70322,0.472419 -1.78731,1.34578 -2.40908,1.940801 -0.92801,0.888082 -1.21235,1.030309 -1.5875,0.794062 -0.7043,-0.443521 -0.67977,-1.008988 0.0831,-1.915583 0.38367,-0.455967 0.61766,-0.829032 0.51997,-0.829032 -0.0977,0 -1.01055,0.36558 -2.02858,0.812398 -1.01804,0.446817 -3.39716,1.397354 -5.28693,2.112301 -2.54815,0.964025 -4.57666,1.997069 -7.85067,3.998058 -2.42809,1.483987 -5.18861,3.170941 -6.1345,3.748791 -2.1777,1.330378 -2.8835,1.856685 -6.61458,4.932453 -3.07664,2.536264 -11.36501,10.645968 -13.41899,13.129715 l -1.11586,1.349343 0.64388,0.872723 c 0.35413,0.479999 0.68292,0.989859 0.73064,1.133026 0.05,0.150076 0.44039,0.07744 0.92187,-0.171543 1.26906,-0.656257 7.13225,-0.593844 10.83597,0.115348 7.06129,1.352103 16.04756,4.013663 20.10303,5.954133 1.7917,0.857295 5.51212,3.928357 8.27508,6.830757 l 0.91417,0.96031 0.4152,-1.12693 c 0.45619,-1.23816 1.24567,-1.59956 1.86474,-0.85362 0.28176,0.33949 0.2909,0.53827 0.043,0.93522 -0.3937,0.63041 -0.39928,1.67288 -0.0186,3.47481 0.50053,2.36931 0.5394,2.39948 2.15238,1.67064 2.65913,-1.20157 5.00033,-1.10951 7.13734,0.28063 1.49972,0.97559 2.14756,2.46857 1.9952,4.59803 -0.20497,2.86464 -1.2647,4.44053 -3.56484,5.30112 -1.61728,0.60511 -2.40988,0.63785 -3.91524,0.16177 z m 3.729,-1.98553 c 0.83239,-0.37803 1.18463,-0.74548 1.52136,-1.58704 1.64171,-4.10305 -1.17804,-6.86142 -5.53396,-5.41348 -1.95649,0.65035 -2.23178,0.98734 -2.21904,2.71643 0.0163,2.21974 0.8494,3.73408 2.37034,4.30889 1.54936,0.58555 2.53127,0.57924 3.8613,-0.0248 z m -9.38974,-1.12481 c 1.54478,-0.25511 1.8166,-0.375 1.64968,-0.7276 -0.10992,-0.23219 -0.21885,-1.35068 -0.24208,-2.48553 -0.0392,-1.9155 -0.11257,-2.16551 -1.02392,-3.48875 -1.1521,-1.6728 -1.68092,-2.05957 -3.59194,-2.62708 -0.78081,-0.23187 -1.50741,-0.56359 -1.61468,-0.73715 -0.34443,-0.5573 0.26692,-1.27011 1.08932,-1.27011 0.72211,0 0.59309,-0.17135 -1.9424,-2.57969 -3.19899,-3.03858 -4.10515,-3.56714 -9.17666,-5.352698 -10.10283,-3.556971 -21.08059,-5.507133 -24.66102,-4.380947 l -1.45687,0.458242 -0.1558,1.315509 c -0.0857,0.723529 -0.34028,1.685292 -0.56575,2.137251 -0.38821,0.778195 -0.37824,0.856255 0.18813,1.472978 0.6904,0.751775 2.28078,1.515995 3.69749,1.776745 1.29521,0.23838 1.70259,0.7286 1.31409,1.58127 -0.41169,0.90357 -1.50343,1.13667 -2.09884,0.44812 -0.25443,-0.29423 -0.76025,-0.61031 -1.12405,-0.70239 -0.60516,-0.15317 -0.58264,-0.0979 0.26458,0.64948 1.02692,0.9059 2.03205,1.59073 6.87917,4.68705 6.86568,4.38577 15.87179,8.37719 21.69583,9.61538 2.65255,0.56394 8.09588,0.669 10.87572,0.20992 z M 107.62148,98.296021 c 2.69712,-1.375971 2.3098,-5.634305 -0.64575,-7.099671 -1.19694,-0.593442 -1.36945,-0.612201 -2.76265,-0.300416 -0.9707,0.217234 -1.74367,0.590225 -2.22907,1.075635 -0.6733,0.67329 -0.74309,0.91758 -0.74309,2.600968 v 1.857883 l 1.25677,1.199044 c 1.16325,1.109816 1.36092,1.199502 2.65638,1.205177 0.90108,0.0039 1.77993,-0.187899 2.46741,-0.53862 z m 55.5406,-38.485769 c 1.46801,-0.759137 2.32962,-3.712004 1.46718,-5.02825 -1.04578,-1.596062 -3.68724,-2.226033 -5.46943,-1.304425 -0.8068,0.417213 -1.82446,1.799047 -1.82625,2.479786 -5.3e-4,0.206782 0.36565,1.128562 0.81376,2.048399 0.66074,1.356291 0.97333,1.718339 1.65365,1.915276 1.28536,0.372089 2.50506,0.331886 3.36109,-0.110786 z m 0.16061,46.834918 c -0.21873,-0.21873 -0.88885,-1.28745 -1.48915,-2.37494 -0.6003,-1.08748 -1.19005,-2.03817 -1.31054,-2.11264 -0.1205,-0.0745 -0.68102,0.66683 -1.2456,1.64733 -0.83082,1.44286 -1.15119,1.78273 -1.68048,1.78273 -1.05162,0 -0.93496,-0.73489 0.52888,-3.33164 l 1.35987,-2.41233 -0.98583,-1.890517 c -0.54221,-1.039783 -1.32431,-2.388216 -1.738,-2.99652 -1.07235,-1.576798 -0.95181,-2.743872 0.24239,-2.346894 0.58859,0.195662 1.8355,1.958097 2.7431,3.877223 0.3892,0.822965 0.81128,1.560356 0.93795,1.638644 0.12668,0.07829 1.0097,-0.949164 1.96228,-2.283227 1.8073,-2.531076 2.67514,-3.113376 3.02012,-2.026423 0.19892,0.626724 -0.43445,1.71831 -2.55351,4.400865 -0.70602,0.89376 -1.28367,1.760387 -1.28367,1.925839 0,0.16546 0.65485,1.50574 1.45521,2.9784 1.55147,2.85469 1.63205,3.10995 1.13771,3.60429 -0.41542,0.41542 -0.62002,0.40052 -1.10073,-0.0802 z M 135.31553,94.937461 c -2.05323,-0.282356 -3.28755,-4.273865 -2.06357,-6.673078 0.93337,-1.829554 2.32594,-2.316898 4.05158,-1.417889 0.46572,0.242626 1.20274,0.515152 1.63783,0.605613 1.04842,0.21798 1.44919,1.082868 1.45398,3.137831 0.002,0.919073 0.12716,1.901339 0.2778,2.182813 0.38484,0.719077 1.61056,0.65341 2.79399,-0.149685 1.14965,-0.780177 1.25949,-0.794198 1.82122,-0.232469 0.67143,0.671426 0.38635,1.147104 -1.18494,1.977158 -1.80989,0.956095 -3.13818,1.002723 -4.13516,0.145155 -0.70766,-0.608695 -0.7446,-0.61264 -1.53611,-0.164044 -0.91576,0.519012 -2.05629,0.734409 -3.11662,0.588595 z m 2.04952,-2.03631 c 0.90319,-0.377378 0.91754,-0.408332 0.91754,-1.978999 0,-1.592509 -0.002,-1.596665 -1.04779,-2.130168 -0.57629,-0.293998 -1.27155,-0.534543 -1.54504,-0.534543 -1.03965,0 -1.49394,2.725994 -0.70767,4.246472 0.45562,0.881071 1.00557,0.972746 2.38296,0.397238 z M 100.06349,79.633876 c -0.758844,-0.758844 0.27583,-1.695186 1.87321,-1.695186 1.04725,0 3.16972,-1.032489 3.53833,-1.721236 0.20486,-0.382781 0.282,-1.109181 0.19745,-1.85928 -0.1558,-1.382332 -0.95845,-2.363304 -3.78481,-4.625684 -0.88121,-0.705377 -1.82836,-1.702441 -2.104765,-2.215698 -0.47366,-0.879536 -0.477584,-0.98557 -0.06826,-1.843939 0.722935,-1.515994 2.906825,-2.815413 4.731785,-2.815413 1.55818,0 3.33295,1.317686 2.98745,2.218042 -0.25051,0.652822 -0.91502,0.719984 -1.62193,0.163922 -0.37051,-0.291433 -1.02654,-0.529881 -1.45787,-0.529881 -1.04065,0 -2.5299,0.727472 -2.89826,1.415749 -0.26389,0.493088 -0.12669,0.697108 1.26592,1.882444 3.05305,2.598634 4.27163,3.940313 4.57411,5.036182 0.89979,3.259874 -0.25813,5.25361 -3.67368,6.325434 -1.95032,0.612026 -3.12395,0.69927 -3.55868,0.264544 z m 20.67578,-14.674991 c -0.82251,-0.502912 -0.99453,-1.436251 -0.66859,-3.627686 0.24079,-1.618994 0.44866,-2.182469 1.01352,-2.747328 1.34443,-1.34443 4.53419,-1.626584 4.91253,-0.434544 0.24609,0.775383 -0.23108,1.08724 -1.74511,1.140511 -0.89985,0.03166 -1.49606,0.203708 -1.79428,0.517771 -0.42471,0.447267 -0.39905,0.463227 0.52279,0.325212 1.13473,-0.169889 1.91112,0.277638 1.7683,1.019276 -0.0539,0.279752 -0.33472,0.548812 -0.62409,0.597908 -1.74779,0.29654 -2.5105,0.625314 -2.5105,1.082178 0,0.415792 0.21308,0.479213 1.52135,0.452821 1.37348,-0.02771 1.52935,0.02543 1.60356,0.546722 0.0506,0.355756 -0.10953,0.680021 -0.41726,0.844711 -0.8016,0.429006 -3.05228,0.606467 -3.58222,0.282448 z m 6.7816,-1.171268 c -0.78634,-0.550773 -1.08448,-1.59484 -1.00877,-3.532667 0.0556,-1.422659 0.17531,-1.782699 0.81466,-2.450041 1.39219,-1.453134 3.29659,-1.441633 4.3418,0.02622 0.99789,1.401411 0.54843,3.834834 -1.01802,5.511729 -0.88103,0.943144 -2.15887,1.124738 -3.12967,0.444759 z m 2.29795,-2.31924 c 0.91923,-1.507633 0.51174,-3.391262 -0.63817,-2.949998 -0.97852,0.375491 -1.25564,2.042536 -0.52492,3.157744 0.23502,0.358682 0.47489,0.65215 0.53305,0.65215 0.0582,0 0.34168,-0.386953 0.63004,-0.859896 z m 4.1019,1.130557 c -0.39239,-0.634897 -1.65648,-4.900089 -1.54125,-5.200364 0.18525,-0.482759 0.89743,-0.673579 1.29194,-0.346165 0.19187,0.159231 0.55082,0.897612 0.79769,1.64085 l 0.44884,1.351338 0.51128,-1.086323 c 0.77095,-1.63807 1.91612,-1.813195 2.58443,-0.395224 l 0.34053,0.722519 0.48643,-1.058334 c 0.26754,-0.582083 0.48956,-1.202973 0.49337,-1.379754 0.004,-0.176781 0.2368,-0.444434 0.51773,-0.594786 0.38557,-0.206351 0.6126,-0.171567 0.92604,0.14188 0.53674,0.536736 0.55547,0.413435 -0.45569,3.001166 -1.16211,2.974039 -2.00534,3.427741 -3.0353,1.633146 l -0.44732,-0.779409 -0.66749,1.237837 c -0.5017,0.930391 -0.842,1.258033 -1.3701,1.319146 -0.38644,0.04472 -0.78295,-0.04866 -0.88113,-0.207523 z m 21.67719,-18.976472 c -0.58494,-0.584942 -0.47955,-0.918985 0.82452,-2.613188 0.66357,-0.862103 2.0199,-2.643508 3.01405,-3.958679 0.99415,-1.315171 1.99904,-2.55014 2.23308,-2.744376 0.87159,-0.723359 0.45782,-0.882808 -1.80235,-0.694537 -2.04113,0.170025 -2.25097,0.142444 -2.50329,-0.329031 -0.20026,-0.374193 -0.18156,-0.642967 0.0685,-0.985008 0.29246,-0.399959 0.77624,-0.47177 3.23089,-0.479575 4.59046,-0.01459 5.05293,0.621242 2.53643,3.487293 -0.84763,0.965362 -2.19679,2.648172 -2.99815,3.739578 -0.80135,1.091406 -1.65565,2.147782 -1.89845,2.347501 -0.24279,0.199719 -0.44144,0.44799 -0.44144,0.551712 0,0.103722 1.57758,0.17844 3.50573,0.16604 4.29029,-0.02759 5.02615,0.132654 4.91148,1.069547 l -0.0828,0.67676 -5.10812,0.07397 c -4.17166,0.06041 -5.17814,0.0039 -5.4901,-0.308012 z"
       id="path847" />
  </g>
</svg>
</p>
<h4 id="context-sensitive-grammar-type-1">Context-sensitive grammar
(type 1)</h4>
<p>Context-sensitive grammars allow left-hand side to contain context,
which must be similar in the right-hand side. Formally speaking, each
rule of context-sensitive grammar is: <span
class="math display"><em>c</em><sub>0</sub><em>A</em><em>c</em><sub>1</sub> → <em>c</em><sub>0</sub><em>b</em><em>c</em><sub>1</sub></span>
where:</p>
<ul>
<li><span class="math inline">$c_0,\\; c_1$</span> are sequences of
terminals and non-terminals (sequence might be empty),</li>
<li><span class="math inline"><em>A</em></span> is a non-terminal</li>
<li><span class="math inline"><em>b</em></span> is a non-empty sequence
of terminals and non-terminals.</li>
</ul>
<h4 id="unrestricted-grammar-type-0">Unrestricted grammar (type 0)</h4>
<p>Unrestricted grammars are grammars without any restrictions to their
rules.</p>
<h3 id="bnf-ebnf">BNF, EBNF</h3>
<p>There is a special Backus-Naur form and Extended Backus-Naur form
(BNF, EBNF) to describe a context free grammar. This notation is used
most commonly. Here is a <a
href="https://docs.python.org/3/reference/grammar.html">python grammar
defined with EBNF and PEG</a>.</p>
<h1 id="non-formal-grammars">Non formal grammars</h1>
<p>Before going any further, let’s bring in some clarifications.</p>
<h3 id="grammar-notation">Grammar notation</h3>
<p>Previously we used capitals for non-terminals and lowercase for
terminals. But in real grammars identifiers are used. We consider every
identifier that appears on the left hand-side a non-terminal (we work
with grammars having only a non-terminal on the left-hand side), other
identifiers are terminals.</p>
<p>Introduce new symbols:</p>
<ul>
<li><code>|</code> - choice operator (or). Grammar rule that contains
<code>|</code> is actually multiple grammar rules:
<code>S -&gt; a | b | ... | n</code> is</li>
</ul>
<pre><code>S -&gt; a
S -&gt; b
...
S -&gt; n</code></pre>
<p>If the rule is more complicated, containing nested choice operators,
it is rewritten in a similar manner:</p>
<pre><code>S -&gt; (a | b) &#39;+&#39; d | c
// rewritten to
S -&gt; a &#39;+&#39; d 
S -&gt; b &#39;+&#39; d
S -&gt; c</code></pre>
<ul>
<li><code>:</code> in EBNF colon replaces arrow to divide two sides of a
rule. I’ll stick to the arrow for the time, to keep the style consistent
and justify the use of code blocks (I use FiraCode with ligatures in
code blocks to make arrow a continuous symbol)</li>
</ul>
<p>All grammars discussed before are formal grammars. Formal grammars
have terminals and non-terminals in their rules and no other operators
of special symbols.</p>
<h3 id="parsing-expression-grammars-or-pegs">Parsing expression grammars
or PEGs</h3>
<p>PEGs are very similar to CFGs, but they are not
<strong>ambiguous</strong>, meaning that for any input only one AST can
be generated. It is achieved by selecting the first match in a choice
operator. For CFG<a href="#fn1" class="footnote-ref" id="fnref1"
role="doc-noteref"><sup>1</sup></a> each variant in a choice operator is
equal in terms of precedence (and because of that two ASTs may be
generated from one input).</p>
<h3 id="recursive-grammars">Recursive grammars</h3>
<p>if there is a rule with a non-terminal on the left side, which can be
derived again by applying some rules to the resulting expression.</p>
<pre><code>grammar rG
A -&gt; aBC
B -&gt; Db
C -&gt; c
D -&gt; Ad</code></pre>
<p>rG is recursive, because:</p>
<ol type="1">
<li>starting with <code>A -&gt; aBC</code></li>
<li>apply <code>B -&gt; Db</code> to <code>aBC</code>, get
<code>aDbC</code></li>
<li>apply <code>D -&gt; Ad</code> to <code>aDbC</code> get
<code>aAddC</code>. Non-terminal <code>A</code> is derived again.
Proved, that rG is recursive.</li>
</ol>
<p>Almost all non-trivial grammars are recursive.</p>
<h4 id="left-recursion">Left recursion</h4>
<p>Left recursive grammar is a grammar that contains a recursive rule,
deriving form which will eventually create the same non-terminal as the
first symbol.</p>
<pre><code>grammar lrG
A -&gt; BC
B -&gt; Db
C -&gt; c
D -&gt; Ad</code></pre>
<p>lrG is left recursive, because same sequence of rules as in rG will
produce AddC. A is the first symbol, therefore lrG is left
recursive.</p>
<p>Some parsers are unable to parse left recursive grammars, descending
into infinite recursion. For that reason, a grammar is rewritten, making
it less humanly readable. Any sensible left-recursive grammar can be
rewritten, I think. This grammar is not reasonable:
<code>A -&gt; A</code>.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>When introducing CFG, I stated that it is a part of a
Chomsky hierarchy, hence it is a formal grammar. Consequently, only
terminals and non-terminals are allowed in the rules. But CFG can be
mentioned outside the formal grammar set, keeping its distinctive
characteristic of one non-terminal on the left-hand side. Therefore, CFG
right-hand side can contain other special symbols. From now on, if not
explicitly specified, I’ll use CFG term implying that <strong>it is not
a formal grammar</strong>.<a href="#fnref1" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

    <p style="text-align: center; font-size: large;"><a href="/">Main</a> | <a href="/writings">Writings</a> | <a href="/drawings">Drawings</a></p>
    <div style="text-align: center;">꧁༻ ༺꧂</div>
</body>
</html>